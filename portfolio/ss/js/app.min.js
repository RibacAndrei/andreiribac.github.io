(() => { "use strict"; !function (e) { let t = new Image; t.onload = t.onerror = function () { !function (e) { let t = !0 === e ? "webp" : "no-webp"; document.documentElement.classList.add(t) }(2 == t.height) }, t.src = "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA" }(), document.addEventListener("DOMContentLoaded", (function () { let e = window.location.pathname; const t = document.querySelectorAll(".main-nav__link"), n = document.querySelectorAll(".mobile-menu__link"); function a(t, n) { t.forEach((function (t) { const a = t.getAttribute("href"); a === e || a === e + ".html" ? t.classList.add(n) : t.classList.remove(n) })) } a(t, "main-nav__link--active"), a(n, "mobile-menu__link--active"); const o = document.querySelectorAll('a[href*="#"]'); for (let e of o) e.addEventListener("click", (function (t) { t.preventDefault(); const n = e.getAttribute("href").slice(1); document.getElementById(n).scrollIntoView({ behavior: "smooth", block: "start" }) })); const c = document.querySelector(".overlay"), i = document.querySelector(".header__fixed"), s = document.querySelector(".hamburger"), l = document.querySelector(".mobile-lang"), r = document.querySelector(".lang"); function u() { c.classList.remove("overlay--active"), m.classList.remove("mobile-menu--active"), s.classList.remove("hamburger--active") } const m = document.querySelector(".mobile-menu"); if (s.addEventListener("click", (function () { s.classList.toggle("hamburger--active"), c.classList.toggle("overlay--active"), m.classList.toggle("mobile-menu--active") })), c && (c.addEventListener("click", (function () { u() })), document.addEventListener("keyup", (function (e) { "Escape" === e.key && u() }))), l && document.querySelector(".mobile-lang__link--active").addEventListener("click", (function (e) { e.preventDefault(), l.classList.toggle("mobile-lang--active") })), r && document.querySelector(".lang__link--active").addEventListener("click", (function (e) { e.preventDefault(), r.classList.toggle("lang--active") })), i) { let e = window.pageYOffset; window.onscroll = function () { let t = window.pageYOffset; t > 200 && (e > t ? i.classList.remove("hide") : (i.classList.add("hide"), r.classList.remove("lang--active"), s.classList.remove("hamburger--active"), m.classList.remove("mobile-menu--active"), l.classList.remove("mobile-lang--active"), c.classList.remove("overlay--active")), e = t) } } if (document.querySelector(".faq")) { const e = document.querySelectorAll(".faq__nav-link"), t = document.querySelectorAll(".faq__content-item"); e.forEach((function (n) { n.addEventListener("click", (function () { let n = this.getAttribute("href").slice(1); e.forEach((function (e) { e.classList.remove("faq__nav-link--active") })), t.forEach((function (e) { e.classList.remove("faq__content-item--active") })), this.classList.add("faq__nav-link--active"), document.getElementById(n).classList.add("faq__content-item--active") })) })) } function d(e, t) { e.addEventListener("focus", (() => { t.classList.remove("input-area--error") })) } const v = document.querySelector(".form"); v && v.addEventListener("submit", (async function (e) { e.preventDefault(); const t = new FormData, n = this.querySelector('input[name="name"]'), a = this.querySelector('input[name="email"]'), o = this.querySelector('input[name="phone"]'), c = this.querySelector('input[name="skype"]'), i = this.querySelector('input[name="subject"]'), s = this.querySelector('textarea[name="message"]'), l = n.value.trim(), r = a.value.trim(), u = s.value.trim(), m = n.closest(".input-area"), f = a.closest(".input-area"), g = s.closest(".input-area"), h = []; if ("" === l && h.push(m), "" === r ? h.push(f) : /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r) || h.push(f), "" === u && h.push(g), h.forEach((e => e.classList.add("input-area--error"))), d(n, m), d(a, f), d(s, g), h.length > 0) return; t.append("name", n.value), t.append("email", a.value); const p = { phone: o.value, skype: c.value, subject: i.value, message: s.value }; t.append("message", JSON.stringify(p)); try { const e = await fetch("/partner-request", { method: "POST", headers: { Accept: "application/json, text/javascript, */*; q=0.01", "Accept-Language": "en-US,en;q=0.5" }, body: t }); if (!e.ok) throw new Error("Произошла ошибка при отправке запроса."); await e.json() } catch (e) { console.error("Ошибка:", e) } const L = {}; t.forEach(((e, t) => { L[t] = e })), v.classList.add("form--ok"), this.reset(), v.scrollIntoView({ behavior: "smooth", block: "start" }), setTimeout((() => { v.classList.remove("form--ok") }), 5e3) })); const f = ["en", "ru", "ro", "fr", "uk", "es", "br"], g = "lang", h = e => f.includes(e), p = e => { h(e) && (localStorage.setItem(g, e), e !== f[0] ? window.location.replace(`/${e}/`) : "/" !== window.location.pathname && window.location.replace("/")) }; document.querySelectorAll("[data-language]").forEach((e => { e.addEventListener("click", (function (e) { if (e.preventDefault(), this.classList.contains("mobile-lang__link--active") || this.classList.contains("lang__link--active")) return; const t = this.getAttribute("data-language"); p(t) })) })), document.body.classList.contains("detect") && (console.log("detecting"), (() => { const e = localStorage.getItem(g); if (e) return void p(e); const t = navigator.languages; for (let e = 0; e < t.length; e++) { const n = t[e].slice(0, 2).toLowerCase(); if (h(n)) return void p(n) } p(f[0]) })()) })) })();